# 红楼梦人物社交网络分析项目总结
## 研究对象：薛寶釵（第10-20章）

---

## 项目完成情况

### ✅ 阶段一：数据准备（已完成）
- [x] 文本清理与标准化
- [x] 构建人物名称词典（28个人物，87个变体）
- [x] 创建人物映射表

**输出文件：**
- `data/cleaned_texts/`: 11个清理后的章节文件
- `data/character_dictionary.json`: 人物词典
- `data/character_dictionary.csv`: 人物词典CSV格式

### ✅ 阶段二：互动关系识别（已完成）
- [x] 自动提取互动关系
- [x] 识别互动类型（对话、行为、共同出现）
- [x] 生成互动关系表

**输出文件：**
- `data/interactions.csv`: 互动关系表（12个关系，36次互动）
- `data/interactions_detailed.json`: 详细互动数据

**主要发现：**
- 薛寶釵与12个人物有互动
- 最频繁的互动：賈寶玉（11次）、林黛玉（8次）、賈環（4次）
- 互动主要集中在第16、18、19、20章

### ✅ 阶段三：网络分析（已完成）
- [x] 构建有向网络图（13个节点，12条边）
- [x] 计算中心性指标
- [x] 生成网络可视化

**输出文件：**
- `data/results/network.gml`: 网络数据（可用于Gephi）
- `data/results/centrality_metrics.csv`: 中心性指标表
- `data/results/network_visualization.png`: 网络可视化图
- `data/results/centrality_comparison.png`: 中心性对比图

**薛寶釵的中心性指标：**
- 度中心性: 1.0000（最高）
- 总度数: 12
- 入度: 0（所有互动都是薛寶釵主动）
- 出度: 12
- 加权度: 36
- 介数中心性: 0.0000
- PageRank: 0.0722

### ✅ 阶段四：结果展示（已完成）
- [x] 创建Streamlit交互式应用
- [x] 准备数据仓库和文档

**输出文件：**
- `4_streamlit_app.py`: Streamlit应用代码
- `data/results/interactive_network.html`: 交互式网络图
- `README.md`: 项目说明文档
- `requirements.txt`: Python依赖列表

---

## 主要发现和洞察

### 1. 社交网络结构
- **网络规模**: 13个节点，12条边
- **网络密度**: 0.0769（相对稀疏）
- **中心人物**: 薛寶釵处于网络中心，度中心性最高

### 2. 互动模式
- **主要互动对象**: 
  - 賈寶玉（11次）- 最多互动
  - 林黛玉（8次）- 第二多
  - 賈環（4次）- 第三多
- **互动类型分布**:
  - 对话类型占主导
  - 行为互动次之
  - 共同出现较少

### 3. 人物角色分析
- **薛寶釵的角色**: 
  - 作为网络中心，连接多个不同群体
  - 所有互动都是主动发起（出度=12，入度=0）
  - 体现了其主动社交的性格特点

### 4. 章节分布
- 互动主要集中在第16、18、19、20章
- 第20章互动最频繁（28次）
- 第10-15章薛寶釵出现较少

---

## 技术实现

### 使用的工具
1. **数据来源**: ctext.org（红楼梦文本）
2. **编程语言**: Python 3
3. **主要库**:
   - pandas: 数据处理
   - networkx: 网络分析
   - matplotlib: 数据可视化
   - streamlit: 交互式应用
   - pyvis: 交互式网络图

### 分析方法
1. **文本处理**: 正则表达式、句子分割
2. **关系识别**: 基于共现和上下文分析
3. **网络分析**: 
   - 度中心性
   - 介数中心性
   - 接近中心性
   - PageRank
   - 聚类系数

---

## 文件清单

### Python脚本
- `1_data_preparation.py`: 数据准备脚本
- `2_interaction_extraction.py`: 互动关系提取脚本
- `3_network_analysis.py`: 网络分析脚本
- `4_streamlit_app.py`: Streamlit应用

### 数据文件
- `data/cleaned_texts/`: 清理后的文本（11个文件）
- `data/character_dictionary.json`: 人物词典
- `data/interactions.csv`: 互动关系表
- `data/results/network.gml`: 网络数据
- `data/results/centrality_metrics.csv`: 中心性指标

### 可视化文件
- `data/results/network_visualization.png`: 网络图
- `data/results/centrality_comparison.png`: 中心性对比图
- `data/results/interactive_network.html`: 交互式网络图

### 文档文件
- `README.md`: 项目说明
- `作业计划_薛寶釵研究.md`: 详细作业计划
- `项目总结.md`: 本文件

---

## 运行说明

### 快速开始
```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 运行完整分析
./run_analysis.sh

# 3. 启动Streamlit应用
streamlit run 4_streamlit_app.py
```

### 单独运行各阶段
```bash
python3 1_data_preparation.py      # 阶段一
python3 2_interaction_extraction.py # 阶段二
python3 3_network_analysis.py      # 阶段三
streamlit run 4_streamlit_app.py   # 阶段四
```

---

## 研究局限和改进方向

### 当前局限
1. **文本范围**: 仅分析第10-20章，样本有限
2. **互动识别**: 基于句子级别，可能遗漏段落级别的互动
3. **网络结构**: 由于样本小，网络相对简单

### 改进方向
1. **扩大文本范围**: 分析整部小说
2. **改进识别算法**: 使用NLP技术提高准确性
3. **时间维度分析**: 分析不同章节的互动变化
4. **情感分析**: 分析互动的积极/消极性质

---

## 数据来源声明

所有文本数据来自：https://ctext.org/hongloumeng

---

## 项目完成时间

2024年

---

## 作者

CHC5904 Digital Studies of Chinese Culture  
Assignment 2 - Option 1

